{"ast":null,"code":"import _objectSpread from\"C:/Users/Owner/Dropbox/My PC (LAPTOP-M9TB4ITQ)/Desktop/SocialMediaApp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Owner/Dropbox/My PC (LAPTOP-M9TB4ITQ)/Desktop/SocialMediaApp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Owner/Dropbox/My PC (LAPTOP-M9TB4ITQ)/Desktop/SocialMediaApp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect}from\"react\";import{TextField,Button,Typography,Paper,Container}from\"@mui/material\";import FileBase from\"react-file-base64\";import{createPost,updatePost}from\"../api\";import{useAuth}from\"../auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Form(_ref){var postData=_ref.postData,setPostData=_ref.setPostData,currentId=_ref.currentId,setCurrentId=_ref.setCurrentId,posts=_ref.posts;var _useAuth=useAuth(),authTokens=_useAuth.authTokens;var post=currentId?posts.find(function(message){return message._id===currentId;}):null;//const user = JSON.parse(authTokens)?.oldUser;\nvar clear=function clear(){setCurrentId(0);setPostData({title:\"\",message:\"\",tags:\"\",selectedFile:\"\"});};useEffect(function(){if(!(post!==null&&post!==void 0&&post.title))clear();if(post)setPostData(post);},[post]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var Data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();Data={title:postData.title,message:postData.message,tags:postData.tags,selectedFile:postData.selectedFile};if(currentId===0){createPost(Data);}else{updatePost(Data,currentId);}clear();case 4:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Paper,{children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",noValidate:true,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:currentId?\"Editing \\\"\".concat(post.title,\"\\\"\"):'Creating a Memory'}),/*#__PURE__*/_jsx(TextField,{sx:{my:\"1rem\"},name:\"title\",variant:\"outlined\",label:\"Title\",fullWidth:true,value:postData.title,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{title:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{sx:{my:\"1rem\"},name:\"message\",variant:\"outlined\",label:\"Message\",fullWidth:true,multiline:true,rows:4,value:postData.message,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{message:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{sx:{my:\"1rem\"},name:\"tags\",variant:\"outlined\",label:\"Tags (coma separated)\",fullWidth:true,value:postData.tags,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{tags:e.target.value.split(\",\")}));}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FileBase,{type:\"file\",multiple:false,onDone:function onDone(_ref3){var base64=_ref3.base64;return setPostData(_objectSpread(_objectSpread({},postData),{},{selectedFile:base64}));}})}),/*#__PURE__*/_jsxs(Container,{sx:{mx:\"auto\",my:\"1rem\"},children:[/*#__PURE__*/_jsx(Button,{disabled:!authTokens,variant:\"contained\",color:\"primary\",size:\"large\",type:\"submit\",fullWidth:true,children:\"Submit\"}),/*#__PURE__*/_jsx(Button,{disabled:!authTokens,sx:{my:\"1rem\"},variant:\"contained\",color:\"secondary\",size:\"large\",onClick:clear,fullWidth:true,children:\"Clear\"})]})]})})});}","map":{"version":3,"names":["React","useEffect","TextField","Button","Typography","Paper","Container","FileBase","createPost","updatePost","useAuth","jsx","_jsx","jsxs","_jsxs","Form","_ref","postData","setPostData","currentId","setCurrentId","posts","_useAuth","authTokens","post","find","message","_id","clear","title","tags","selectedFile","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","Data","wrap","_callee$","_context","prev","next","preventDefault","stop","_x","apply","arguments","children","autoComplete","noValidate","onSubmit","variant","concat","sx","my","name","label","fullWidth","value","onChange","_objectSpread","target","multiline","rows","split","type","multiple","onDone","_ref3","base64","mx","disabled","color","size","onClick"],"sources":["C:/Users/Owner/Dropbox/My PC (LAPTOP-M9TB4ITQ)/Desktop/SocialMediaApp/client/src/Components/Form.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { TextField, Button, Typography, Paper, Container } from \"@mui/material\";\r\nimport FileBase from \"react-file-base64\";\r\nimport { createPost, updatePost } from \"../api\";\r\nimport { useAuth } from \"../auth\";\r\nexport default function Form({ postData, setPostData,currentId,setCurrentId,posts }) {\r\n  const { authTokens } = useAuth();\r\n  const post = currentId ? posts.find((message) => message._id === currentId) : null; \r\n  //const user = JSON.parse(authTokens)?.oldUser;\r\n  \r\n  const clear = () => {\r\n    setCurrentId(0);\r\n    setPostData({\r\n      title: \"\",\r\n      message: \"\",\r\n      tags: \"\",\r\n      selectedFile: \"\",\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!post?.title) clear();\r\n    if (post) setPostData(post);\r\n  },[post]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const Data = {\r\n      title: postData.title,\r\n      message: postData.message,\r\n      tags: postData.tags,\r\n      selectedFile: postData.selectedFile,\r\n    };\r\n    if(currentId===0){\r\n    createPost(Data);\r\n    }else{\r\n      updatePost(Data,currentId);\r\n    }\r\n    \r\n    clear();\r\n  };\r\n\r\n\r\n  return (\r\n    <Container>\r\n      <Paper>\r\n        <form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\r\n          <Typography variant=\"h6\">{currentId ? `Editing \"${post.title}\"` : 'Creating a Memory'}</Typography>\r\n          <TextField\r\n            sx={{ my: \"1rem\" }}\r\n            name=\"title\"\r\n            variant=\"outlined\"\r\n            label=\"Title\"\r\n            fullWidth\r\n            value={postData.title}\r\n            onChange={(e) =>\r\n              setPostData({ ...postData, title: e.target.value })\r\n            }\r\n          />\r\n          <TextField\r\n            sx={{ my: \"1rem\" }}\r\n            name=\"message\"\r\n            variant=\"outlined\"\r\n            label=\"Message\"\r\n            fullWidth\r\n            multiline\r\n            rows={4}\r\n            value={postData.message}\r\n            onChange={(e) =>\r\n              setPostData({ ...postData, message: e.target.value })\r\n            }\r\n          />\r\n          <TextField\r\n            sx={{ my: \"1rem\" }}\r\n            name=\"tags\"\r\n            variant=\"outlined\"\r\n            label=\"Tags (coma separated)\"\r\n            fullWidth\r\n            value={postData.tags}\r\n            onChange={(e) =>\r\n              setPostData({ ...postData, tags: e.target.value.split(\",\") })\r\n            }\r\n          />\r\n          <div>\r\n            <FileBase\r\n              type=\"file\"\r\n              multiple={false}\r\n              onDone={({ base64 }) =>\r\n                setPostData({ ...postData, selectedFile: base64 })\r\n              }\r\n            />\r\n          </div>\r\n          <Container sx={{ mx: \"auto\", my: \"1rem\" }}>\r\n            <Button\r\n            disabled={!authTokens}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              type=\"submit\"\r\n              fullWidth\r\n            >\r\n              Submit\r\n            </Button>\r\n            <Button\r\n            disabled={!authTokens}\r\n              sx={{ my: \"1rem\" }}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              size=\"large\"\r\n              onClick={clear}\r\n              fullWidth\r\n            >\r\n              Clear\r\n            </Button>\r\n          </Container>\r\n        </form>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}